# NumerusX - Guide de DÃ©veloppement de l'Interface Utilisateur (UI) avec React et ShadCN/UI ðŸš€

**Prompt pour l'IA**: Ta mission est de concevoir et de dÃ©velopper une interface utilisateur (UI) **exceptionnelle** pour NumerusX en utilisant React, ShadCN/UI, Tailwind CSS, Recharts, Redux, Socket.io (ou Pusher), Clerk/Auth0, et i18next. L'UI doit Ãªtre claire, moderne, minimaliste, hautement interactive, et permettre une gestion intuitive et puissante de l'application. Assure-toi de la cohÃ©rence avec les fonctionnalitÃ©s existantes et prÃ©vues du bot, et vise une expÃ©rience utilisateur (UX) de premier ordre.

## Objectifs GÃ©nÃ©raux de l'UI:

-   **ContrÃ´le CentralisÃ© et Intuitif**: DÃ©marrer, arrÃªter, configurer et surveiller le bot avec aisance.
-   **Feedback Dynamique et ComprÃ©hensible**: Afficher l'Ã©tat du bot, les logs, les actions en cours et les "pensÃ©es" de l'IA de maniÃ¨re transparente.
-   **Visualisation de DonnÃ©es AvancÃ©e**: PrÃ©senter les performances, les trades, et l'analyse de marchÃ© via des graphiques interactifs (`Recharts`), des heatmaps, et des visualisations innovantes.
-   **EsthÃ©tique Moderne et Personnalisable**: Interface Ã©purÃ©e, Ã©lÃ©gante (grÃ¢ce Ã  `ShadCN/UI` et `Tailwind CSS`), avec des options de personnalisation (thÃ¨mes, widgets).
-   **RÃ©activitÃ© et Performance**: L'interface doit Ãªtre fluide, se mettre Ã  jour dynamiquement (`Socket.io`/`Pusher` et `Redux`) sans latence perceptible, et optimisÃ©e pour les performances.
-   **SÃ©curitÃ©**: Authentification robuste avec `Clerk/Auth0`.
-   **Internationalisation (i18n)**: Prise en charge multilingue avec `i18next` et `react-i18next`.
-   **AccessibilitÃ© (A11y)**: Respecter les standards d'accessibilitÃ© (WCAG).

## Stack Technologique Frontend:

*   **Framework**: React.js (avec Vite.js pour le build)
*   **Composants UI**: ShadCN/UI
*   **Styling**: Tailwind CSS
*   **Graphiques**: Recharts (intÃ©grÃ© avec ShadCN/UI)
*   **Gestion d'Ã‰tat**: Redux (avec Redux Toolkit)
*   **Communication Temps RÃ©el**: Socket.io (prÃ©fÃ©rÃ©) ou Pusher
*   **Authentification**: Clerk ou Auth0
*   **Internationalisation**: i18next avec react-i18next
*   **Typage**: TypeScript

## Structure du Projet Frontend (Exemple):

```
numerusx-ui/
â”œâ”€â”€ public/
â”‚   â””â”€â”€ locales/      # Pour les fichiers de traduction i18next
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ app/          # Logique Redux (store, reducers, actions)
â”‚   â”œâ”€â”€ assets/       # Images, polices, etc.
â”‚   â”œâ”€â”€ components/   # Composants React rÃ©utilisables (ShadCN/UI customisÃ©s)
â”‚   â”‚   â”œâ”€â”€ charts/   # Composants graphiques spÃ©cifiques basÃ©s sur Recharts
â”‚   â”‚   â”œâ”€â”€ layout/   # Composants de structure (Header, Sidebar, Footer)
â”‚   â”‚   â””â”€â”€ ui/       # Petits composants UI gÃ©nÃ©riques
â”‚   â”œâ”€â”€ features/     # Modules fonctionnels (Portfolio, Trading, AI Insights, etc.)
â”‚   â”‚   â””â”€â”€ Portfolio/
â”‚   â”‚       â”œâ”€â”€ components/
â”‚   â”‚       â”œâ”€â”€ PortfolioSlice.ts  # Redux slice
â”‚   â”‚       â””â”€â”€ PortfolioView.tsx
â”‚   â”œâ”€â”€ hooks/        # Hooks React customisÃ©s
â”‚   â”œâ”€â”€ lib/          # Utilitaires, helpers, config i18n, client Socket.io
â”‚   â”œâ”€â”€ pages/        # Composants de page principaux (Dashboard, Settings, Login)
â”‚   â”œâ”€â”€ services/     # Logique d'appel API backend (hors Socket.io)
â”‚   â”œâ”€â”€ styles/       # Styles globaux, config Tailwind
â”‚   â”œâ”€â”€ App.tsx
â”‚   â”œâ”€â”€ main.tsx
â”‚   â””â”€â”€ vite-env.d.ts
â”œâ”€â”€ .env
â”œâ”€â”€ .eslintrc.cjs
â”œâ”€â”€ .gitignore
â”œâ”€â”€ index.html
â”œâ”€â”€ package.json
â”œâ”€â”€ postcss.config.js
â”œâ”€â”€ tailwind.config.js
â””â”€â”€ tsconfig.json
```

## Phase 1: Initialisation du Projet Frontend et Structure de Base

-   [ ] **1.1. CrÃ©ation du Projet React avec Vite.js**:
    -   [ ] Initialiser un nouveau projet React avec TypeScript en utilisant Vite.
    -   [ ] `npm create vite@latest numerusx-ui -- --template react-ts`
-   [ ] **1.2. Installation des DÃ©pendances Initiales**:
    -   [ ] `tailwindcss`, `postcss`, `autoprefixer`
    -   [ ] `shadcn-ui` (et ses dÃ©pendances: `lucide-react`, etc.)
    -   [ ] `recharts`
    -   [ ] `redux`, `react-redux`, `@reduxjs/toolkit`
    -   [ ] `socket.io-client`
    -   [ ] `clerk-react` ou `@auth0/auth0-react`
    -   [ ] `i18next`, `react-i18next`, `i18next-http-backend`, `i18next-browser-languagedetector`
    -   [ ] `react-router-dom` pour la navigation.
-   [ ] **1.3. Configuration de Tailwind CSS**:
    -   [ ] Initialiser Tailwind CSS (`npx tailwindcss init -p`).
    -   [ ] Configurer `tailwind.config.js` et `postcss.config.js`.
    -   [ ] Importer les directives Tailwind dans `src/index.css` (ou Ã©quivalent).
-   [ ] **1.4. Initialisation de ShadCN/UI**:
    -   [ ] `npx shadcn-ui@latest init`
    -   [ ] Choisir les options de configuration (CSS variables, etc.).
    -   [ ] Ajouter quelques composants de base (`button`, `card`, `input`, `dialog`, `dropdown-menu`, `tooltip`).
-   [ ] **1.5. Configuration de Redux Store**:
    -   [ ] CrÃ©er le store Redux (`src/app/store.ts`).
    -   [ ] Mettre en place un slice initial (ex: `uiSlice` pour gÃ©rer l'Ã©tat de l'UI comme le thÃ¨me).
    -   [ ] Envelopper l'application avec le `Provider` Redux.
-   [ ] **1.6. Mise en Place de la Navigation (React Router)**:
    -   [ ] DÃ©finir les routes principales (ex: `/login`, `/dashboard`, `/settings`).
    -   [ ] CrÃ©er des composants de page placeholder pour ces routes.
    -   [ ] ImplÃ©menter la logique de routes protÃ©gÃ©es aprÃ¨s l'intÃ©gration de l'authentification.
-   [ ] **1.7. Layout Principal (Composants `Header`, `Sidebar`, `Footer`)**:
    -   [ ] CrÃ©er les composants de layout en utilisant `ShadCN/UI`.
    -   [ ] Header: Logo, titre, indicateur de statut global du bot (connectÃ© via Redux/Socket.io), menu utilisateur (accÃ¨s profil, dÃ©connexion), sÃ©lecteur de thÃ¨me.
    -   [ ] Sidebar: Navigation principale avec icÃ´nes (`lucide-react`) et labels. Collapsible.
    -   [ ] S'assurer que le layout est responsive.
-   [ ] **1.8. Internationalisation (i18n) avec i18next**:
    -   [ ] Configurer `i18next` (`src/lib/i18n.ts`).
    -   [ ] Mettre en place la dÃ©tection de langue et le chargement des traductions (ex: `en.json`, `fr.json` dans `public/locales`).
    -   [ ] Utiliser `useTranslation` hook dans quelques composants pour tester.
    -   [ ] Ajouter un sÃ©lecteur de langue dans le Header ou les Settings.
-   [ ] **1.9. Authentification (Clerk/Auth0)**:
    -   [ ] Configurer le provider Clerk/Auth0 dans `App.tsx`.
    -   [ ] CrÃ©er les pages de Login, Signup, et potentiellement un callback.
    -   [ ] ImplÃ©menter les routes protÃ©gÃ©es qui nÃ©cessitent une authentification.
    -   [ ] GÃ©rer l'Ã©tat de l'utilisateur (via Clerk/Auth0 hooks et potentiellement synchronisÃ© avec Redux).
-   [ ] **1.10. Connexion Socket.io Client**:
    -   [ ] Initialiser le client Socket.io (`src/lib/socketClient.ts`).
    -   [ ] Ã‰tablir la connexion avec le backend FastAPI (l'URL du backend sera configurable via `.env`).
    -   [ ] Mettre en place des listeners pour des Ã©vÃ©nements de test et dispatcher des actions Redux.

## Phase 2: DÃ©veloppement des FonctionnalitÃ©s de l'UI par Panneau

*Pour chaque panneau, crÃ©er un rÃ©pertoire dÃ©diÃ© dans `src/features/` avec ses propres composants, slice Redux si nÃ©cessaire, et vue principale.*

### Ã‰tape 2.1: Panneau "Portfolio Overview"
-   [ ] **Affichage de la Valeur Totale du Portefeuille**:
    -   [ ] Label principal clair et visible, mis Ã  jour en temps rÃ©el via Redux/Socket.io.
    -   [ ] "Sparkline" (`Recharts`) Ã  cÃ´tÃ© de la valeur totale montrant la tendance rÃ©cente.
    -   [ ] Variation sur 24h, 7j, 30j (avec sÃ©lecteur `Tabs` de ShadCN/UI).
-   [ ] **Graphique d'Allocation d'Actifs Interactif (`Recharts`)**:
    -   [ ] `PieChart` (Donut) ou `Treemap` (si Recharts le supporte bien, sinon simuler avec des `div`s).
    -   [ ] Afficher les allocations par actif, avec tooltips interactifs.
-   [ ] **Graphique de Performance du Portefeuille (`Recharts`)**:
    -   [ ] `LineChart` ou `AreaChart` pour l'Ã©volution de la valeur du portefeuille.
    -   [ ] SÃ©lecteur de pÃ©riode.
    -   [ ] Superposition d'Ã©vÃ©nements clÃ©s (via Redux).
-   [ ] **Tableau des Positions ("Holdings") (`ShadCN/UI Table`)**:
    -   [ ] Colonnes: Actif (logo + symbole), QuantitÃ©, Prix d'Achat Moyen, Prix Actuel, Valeur Totale, P&L Non RÃ©alisÃ© (montant et %), Variation 24h (%).
    -   [ ] DonnÃ©es mises Ã  jour en temps rÃ©el.
    -   [ ] Actions par ligne (menu contextuel `DropdownMenu`).
-   [ ] **Indicateurs de Risque du Portefeuille**:
    -   [ ] Afficher Sharpe Ratio, Sortino Ratio (calculÃ©s cÃ´tÃ© backend, transmis via API/Socket).

### Ã‰tape 2.2: Panneau "Trading Activity Center"
-   [ ] **Tableau des Trades RÃ©cents (`ShadCN/UI Table`)**:
    -   [ ] Colonnes: Paire, Type (Achat/Vente), Montant, Prix, Slippage, Frais, Statut, Raison du Trade (IA/Manuel), Timestamp.
    -   [ ] Cliquer pour voir dÃ©tails (`Dialog` ShadCN/UI) avec snapshot des indicateurs et raisonnement IA.
-   [ ] **Analyse de Performance des Trades**:
    -   [ ] Affichage: Taux de rÃ©ussite, Profit Factor.
    -   [ ] `BarChart` (`Recharts`) pour la distribution des P&L.
-   [ ] **Visualisation des Ordres Actifs (Limites, DCA)**:
    -   [ ] Tableau des ordres ouverts avec possibilitÃ© d'annulation.

### Ã‰tape 2.3: Panneau "Market Intelligence Hub"
-   [ ] **Indicateur Global de Sentiment de MarchÃ©**:
    -   [ ] Visualisation type "gauge" (peut Ãªtre custom avec `Recharts` ou un composant SVG) ou `Progress` ShadCN/UI.
-   [ ] **Watchlist Dynamique et Interactive (`ShadCN/UI Card`s ou `Table`)**:
    -   [ ] Tokens avec signaux forts (BUY/SELL) de l'IA.
    -   [ ] Raisons du signal, mini-graphiques (`Recharts Sparklines`).
-   [ ] **Graphiques de Prix Interactifs (`Recharts`)**:
    -   [ ] `LineChart` ou `AreaChart` pour les prix, chandeliers si Recharts le permet facilement (sinon, une bibliothÃ¨que plus spÃ©cialisÃ©e pourrait Ãªtre envisagÃ©e pour les chandeliers).
    -   [ ] Superposition des prÃ©dictions de prix de l'IA.
    -   [ ] Annotations pour les dÃ©cisions IA.
-   [ ] **Section "AI Insights"**:
    -   [ ] Flux de "pensÃ©es" ou d'observations clÃ©s de l'IA, reÃ§ues via Socket.io.

### Ã‰tape 2.4: Panneau "Command & Control Center"
-   [ ] **ContrÃ´le du Bot**:
    -   [ ] Boutons Start/Stop/Pause (`Button` ShadCN/UI) envoyant des commandes via Socket.io.
    -   [ ] Mode "Safe" (Paper Trading) vs "Live" (SÃ©lecteur `Switch` ou `RadioGroup`).
    -   [ ] Indicateur visuel du cycle du bot.
-   [ ] **Gestion Fine des StratÃ©gies**:
    -   [ ] SÃ©lecteur de stratÃ©gie active (`Select` ShadCN/UI).
    -   [ ] Affichage des paramÃ¨tres de la stratÃ©gie.
    -   [ ] Interface pour ajuster les paramÃ¨tres (avec `Input`, `Slider`).
-   [ ] **Formulaire d'EntrÃ©e Manuelle de Trade**:
    -   [ ] Inputs pour paire, montant, type d'ordre.
    -   [ ] Affichage du solde disponible, estimation des frais.
    -   [ ] Bouton d'exÃ©cution.

### Ã‰tape 2.5: Panneau "System Health & Operations"
-   [ ] **SantÃ© des Composants et Connexions**:
    -   [ ] Indicateurs (`Badge` ShadCN/UI avec couleurs) pour Backend API, WebSocket, `MarketDataProvider`, `TradingEngine`, `Database`, `JupiterApiClient`, `GeminiClient`.
    -   [ ] DonnÃ©es reÃ§ues via Socket.io.
-   [ ] **MÃ©triques d'Utilisation des Ressources du Backend**:
    -   [ ] CPU, RAM (si le backend les expose).
-   [ ] **Visualisation des Logs IntÃ©grÃ©e**:
    -   [ ] Panneau affichant les logs en temps rÃ©el (Socket.io).
    -   [ ] Filtres (niveau, module), recherche.

### Ã‰tape 2.6: Panneau "Settings & Customization"
-   [ ] **Ã‰diteur des ParamÃ¨tres de `Config` du Bot**:
    -   [ ] Formulaire groupÃ© par catÃ©gorie (Trading, API, AI, Notifications).
    -   [ ] Sauvegarde via appel API au backend.
-   [ ] **ParamÃ¨tres de Notification UI**:
    -   [ ] Activer/dÃ©sactiver les notifications de l'UI.
-   [ ] **Gestion du Profil Utilisateur (via Clerk/Auth0)**.
-   [ ] **SÃ©lecteur de Langue (i18next)**.
-   [ ] **SÃ©lecteur de ThÃ¨me (Light/Dark/System)**:
    -   [ ] Utiliser le support de thÃ¨me de Tailwind/ShadCN/UI.
    -   [ ] Stocker la prÃ©fÃ©rence dans `localStorage` et Redux.

## Phase 3: AmÃ©liorations GÃ©nÃ©rales, Tests et DÃ©ploiement

-   [ ] **3.1. RÃ©activitÃ© Mobile et Tablette (Optimisation Finale)**.
-   [ ] **3.2. Tests**:
    -   [ ] Tests unitaires pour les composants critiques et la logique Redux (avec Jest/React Testing Library).
    -   [ ] Tests d'intÃ©gration pour les flux utilisateurs clÃ©s.
    -   [ ] Tests E2E (optionnel, avec Playwright ou Cypress).
-   [ ] **3.3. Optimisation des Performances**:
    -   [ ] `React.memo`, `useCallback`, `useMemo`.
    -   [ ] Code splitting (Vite gÃ¨re cela en partie).
    -   [ ] Optimisation des rendus Redux.
-   [ ] **3.4. Gestion des Erreurs dans l'UI**:
    -   [ ] Composant `ErrorBoundary` global.
    -   [ ] Notifications `Toast` (ShadCN/UI) pour les erreurs.
-   [ ] **3.5. AccessibilitÃ© (A11y Review)**.
-   [ ] **3.6. Documentation Frontend**:
    -   [ ] Documenter la structure du projet, les dÃ©cisions d'architecture clÃ©s, et comment lancer/dÃ©velopper l'UI.
-   [ ] **3.7. Build de Production**:
    -   [ ] Configurer le script `build` dans `package.json` (`vite build`).
-   [ ] **3.8. Dockerisation de l'UI**:
    -   [ ] CrÃ©er un `Dockerfile` pour l'application React (multi-stage build avec Nginx pour servir les fichiers statiques).
    -   [ ] Mettre Ã  jour `docker-compose.yml` pour inclure le service frontend.

## Sources de DonnÃ©es pour l'UI (via API Backend FastAPI & Socket.io):

Le frontend communiquera avec le backend FastAPI :
1.  **API RESTful**: Pour les actions (ex: sauvegarder les settings, initier un trade manuel) et la rÃ©cupÃ©ration de donnÃ©es initiales/historiques.
2.  **Socket.io**: Pour les mises Ã  jour en temps rÃ©el (prix, Ã©tat du bot, P&L, logs, dÃ©cisions IA, santÃ© des systÃ¨mes).

Ce guide est un point de dÃ©part. L'IA devra faire preuve d'initiative pour proposer des solutions Ã©lÃ©gantes et efficaces pour chaque fonctionnalitÃ©, en tirant parti au mieux de la stack technologique choisie. 